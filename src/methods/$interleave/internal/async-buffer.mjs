/* @macrome
 * @generated-from ./$buffer.js
 * This file is autogenerated. Please do not edit it directly.
 * When editing run `npx macrome watch` then change the file this is generated from.
 */
class AsyncInterleaveBuffer {
  constructor(iterator, bufferIndex) {
    this._iterator = iterator;
    this._next = iterator.next();
    this.bufferIndex = bufferIndex;
    this.index = 0;
  }

  async peek() {
    return (await this._next).value;
  }

  async take() {
    const next = await this._next;
    if (!next.done) {
      this._next = this._iterator.next();
      this.index++;
    }

    return next.value;
  }

  async canTake() {
    return !(await this._next).done;
  }
}

export default AsyncInterleaveBuffer;
